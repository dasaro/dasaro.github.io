<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
  <meta name="description" content="Fabio Aurelio D'Asaro - Postdoctoral Researcher in Logic at the interface of formal epistemology, AI, probabilistic and temporal reasoning, argumentation, and logic programming.">
  <meta name="keywords" content="Logic, Artificial Intelligence, Epistemology, Temporal Reasoning, Probabilistic Logic, Argumentation, ASP, ILASP, Event Calculus">
  <meta name="author" content="Fabio Aurelio D'Asaro">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Fabio Aurelio D'Asaro - Logic & AI Researcher">
  <meta property="og:description" content="Postdoctoral Researcher in Logic working at the interface of formal epistemology, AI, and probabilistic reasoning.">
  <meta property="og:url" content="https://dasaro.github.io">

  <title>Fabio Aurelio D'Asaro - Home</title>

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="512x512" href="images/favicon/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/favicon/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
  <link rel="manifest" href="images/favicon/site.webmanifest">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">

</head>
<body data-page="home">
  <!-- Mathematical Background Canvas -->
  <canvas id="bg-animation-canvas" data-default-animation="gameOfLife"></canvas>
  <button id="animation-toggle" class="animation-toggle" aria-label="Toggle background animation" title="Toggle animation (A)">
    <span class="symbol">∀</span>
  </button>

  <!-- Navigation -->
  <div class="nav-wrapper">
    <nav>
      <a href="index.html" class="nav-brand">
        <span class="logic-symbol">∀</span>
        F.A. D'Asaro
      </a>

      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">Home</a></li>
        <li><a href="about.html" class="nav-link">About</a></li>
        <li><a href="publications.html" class="nav-link">Publications</a></li>
        <li><a href="teaching.html" class="nav-link">Teaching</a></li>
        <li><a href="projects.html" class="nav-link">Projects</a></li>
        <li><a href="service.html" class="nav-link">Service</a></li>
        <li><a href="backgrounds.html" class="nav-link">Backgrounds</a></li>
        <li><a href="contact.html" class="nav-link">Contact</a></li>
      </ul>
    </nav>
  </div>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content fade-in">
          <div class="hero-image-container">
            <img src="images/profile/profile-fabio-dasaro.jpg"
                 alt="Fabio Aurelio D'Asaro, Postdoctoral Researcher in Logic"
                 class="hero-profile-photo"
                 width="200"
                 height="200"
                 loading="eager">
          </div>
          <div class="hero-text-container">
            <h1 id="hero-name">Loading...</h1>
            <p class="hero-subtitle" id="hero-title">Loading...</p>
            <p class="hero-affiliations" id="hero-affiliations">
              <!-- Affiliations loaded from JSON -->
            </p>
            <p class="hero-tagline">
              <em>Exploring the interface of formal epistemology, AI, probabilistic reasoning, and argumentation</em>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- About Preview -->
    <section id="about-preview">
      <div class="container">
        <h2 class="section-title">About</h2>
        <div class="about-content" id="about-content">
          <!-- About text loaded from JSON -->
          <p class="loading-message">Loading...</p>
        </div>
      </div>
    </section>

    <!-- Research Interests -->
    <section id="research-interests">
      <div class="container">
        <h2 class="section-title">Research Interests</h2>
        <div class="grid grid-3" id="research-interests-grid">
          <!-- Research interests loaded from JSON -->
          <p class="loading-message">Loading research interests...</p>
        </div>
      </div>
    </section>

    <!-- Recent Publications -->
    <section id="recent-publications">
      <div class="container">
        <h2 class="section-title">Recent Highlights</h2>
        <div id="publications-container">
          <!-- Publications will be loaded here via JavaScript -->
          <p class="loading-message">Loading publications...</p>
        </div>
        <div class="text-center mt-xl">
          <a href="publications.html" class="btn btn-primary">View All Publications →</a>
        </div>
      </div>
    </section>

    <!-- Scholar Metrics -->
    <section id="metrics">
      <div class="container">
        <div class="card metrics-widget">
          <h3>Scholar Metrics</h3>
          <div class="metrics-grid grid grid-3">
            <div class="metric">
              <div class="metric-value" id="citations">—</div>
              <div class="metric-label">Citations</div>
            </div>
            <div class="metric">
              <div class="metric-value" id="h-index">—</div>
              <div class="metric-label">h-index</div>
            </div>
            <div class="metric">
              <div class="metric-value" id="i10-index">—</div>
              <div class="metric-label">i10-index</div>
            </div>
          </div>
          <p class="metric-note" id="metrics-updated">Loading...</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-text">
        <p>&copy; <span class="footer-year">2025</span> <span id="footer-name">Loading...</span></p>
        <p>∀x (Logic(x) → Elegant(x))</p>
      </div>
      <ul class="footer-links">
        <li><a href="https://github.com/dasaro" target="_blank" rel="noopener" id="footer-github">GitHub</a></li>
        <li><a href="https://scholar.google.com" target="_blank" rel="noopener" id="footer-scholar">Google Scholar</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/main.js?v=30"></script>
  <script type="module" src="js/animations/AnimationController.js?v=30"></script>

  <!-- Page-specific script -->
  <script>
    // Load data and populate home page
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('[index.html] DOM loaded, starting data load...');

      try {
        // Load personal data
        console.log('[index.html] Loading personal data...');
        const personalData = await loadJSON('./data/personal.json');
        console.log('[index.html] Personal data loaded:', personalData);

        if (personalData) {
          // Update hero section - NAME
          const heroName = document.getElementById('hero-name');
          if (heroName) heroName.textContent = personalData.name;

          // Update hero section - TITLE
          const heroTitle = document.getElementById('hero-title');
          if (heroTitle) heroTitle.textContent = personalData.title;

          // Update hero section - AFFILIATIONS
          const affiliationsEl = document.getElementById('hero-affiliations');
          if (affiliationsEl && personalData.affiliations) {
            affiliationsEl.innerHTML = personalData.affiliations
              .map((aff, idx) => {
                if (idx < personalData.affiliations.length - 1) {
                  return `${aff} <span class="logic-symbol">∧</span> `;
                }
                return aff;
              })
              .join('');
          }

          // Update about preview
          const aboutContentEl = document.getElementById('about-content');
          if (aboutContentEl && personalData.bio_short) {
            aboutContentEl.innerHTML = `
              <p>${personalData.bio_short}</p>
              <a href="about.html" class="btn">Learn More →</a>
            `;
          }

          // Update research interests dynamically
          const researchGrid = document.getElementById('research-interests-grid');
          console.log('[index.html] Research grid element:', researchGrid);
          console.log('[index.html] Research interests data:', personalData.research_interests);

          if (researchGrid && personalData.research_interests) {
            const html = personalData.research_interests.map(interest => `
              <div class="card scroll-animate visible">
                <h3><span class="logic-symbol">${interest.symbol}</span> ${interest.title}</h3>
                <p>${interest.description}</p>
                <div class="chip-group">
                  <span class="chip chip-research chip-sm">Research</span>
                </div>
              </div>
            `).join('');

            researchGrid.innerHTML = html;
            console.log('[index.html] ✅ Research interests displayed!', personalData.research_interests.length, 'interests');
            console.log('[index.html] Grid innerHTML length:', researchGrid.innerHTML.length);
            console.log('[index.html] Grid children count:', researchGrid.children.length);
          } else {
            console.error('[index.html] ❌ Research interests NOT displayed - grid:', !!researchGrid, 'data:', !!personalData.research_interests);
          }

          // Update scholar metrics
          if (personalData.scholar_metrics) {
            console.log('[index.html] Updating scholar metrics...');
            const citationsEl = document.getElementById('citations');
            const hIndexEl = document.getElementById('h-index');
            const i10IndexEl = document.getElementById('i10-index');
            const metricsUpdated = document.getElementById('metrics-updated');

            if (citationsEl) citationsEl.textContent = personalData.scholar_metrics.citations;
            if (hIndexEl) hIndexEl.textContent = personalData.scholar_metrics.h_index;
            if (i10IndexEl) i10IndexEl.textContent = personalData.scholar_metrics.i10_index;
            if (metricsUpdated) {
              const date = new Date(personalData.scholar_metrics.last_updated);
              const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });
              metricsUpdated.textContent = `Last updated: ${formattedDate}`;
            }
          }

          // Update footer
          const footerName = document.getElementById('footer-name');
          if (footerName) footerName.textContent = personalData.name;

          // Update footer links
          const footerGithub = document.getElementById('footer-github');
          if (footerGithub && personalData.contact.github) {
            footerGithub.href = `https://github.com/${personalData.contact.github}`;
          }

          const footerScholar = document.getElementById('footer-scholar');
          if (footerScholar && personalData.contact.scholar) {
            footerScholar.href = personalData.contact.scholar;
          }
        }

        // Load publications data
        console.log('[index.html] Loading publications data...');
        const pubData = await loadJSON('./data/publications.json');
        console.log('[index.html] Publications data received:', pubData);

        const container = document.getElementById('publications-container');
        console.log('[index.html] Publications container found:', !!container);

        if (!container) {
          console.error('[index.html] Publications container NOT FOUND!');
          return;
        }

        if (pubData && pubData.selected && pubData.selected.length > 0) {
          console.log('[index.html] Found', pubData.selected.length, 'selected publications');

          // Check if container is visible
          const containerStyles = window.getComputedStyle(container);
          console.log('[index.html] Container display:', containerStyles.display);
          console.log('[index.html] Container visibility:', containerStyles.visibility);
          console.log('[index.html] Container opacity:', containerStyles.opacity);
          console.log('[index.html] Container color:', containerStyles.color);

          // Get the 3 most recent from selected
          const recent = pubData.selected.slice(0, 3);
          console.log('[index.html] Displaying', recent.length, 'recent publications');

          const html = recent.map((pub, index) => {
            console.log(`[index.html] Processing publication ${index + 1}:`, pub.title);
            const authors = Array.isArray(pub.authors) ? pub.authors.join(', ') : pub.authors;
            // Highlight author (now uses CSS classes)
            const highlightedAuthors = authors.replace(/F\. A\. D'Asaro/g, '<strong>F. A. D\'Asaro</strong>');

            // Determine publication type chip
            const typeChip = pub.type === 'journal' ? 'chip-journal' :
                           pub.type === 'conference' ? 'chip-conference' :
                           pub.type === 'workshop' ? 'chip-workshop' :
                           pub.type === 'book' ? 'chip-book' : 'chip-preprint';
            const typeLabel = pub.type ? pub.type.charAt(0).toUpperCase() + pub.type.slice(1) : 'Publication';

            return `
              <div class="publication-card">
                <div class="chip-group">
                  <span class="chip chip-year chip-sm">${pub.year}</span>
                  <span class="chip ${typeChip} chip-sm">${typeLabel}</span>
                  ${pub.open_access ? '<span class="chip chip-featured chip-sm">Open Access</span>' : ''}
                </div>
                <h3>${pub.title}</h3>
                <p class="publication-authors">${highlightedAuthors}</p>
                <p class="publication-venue">
                  <strong>${pub.venue}</strong>
                </p>
                <div class="publication-links">
                  ${pub.doi ? `<a href="https://doi.org/${pub.doi}" target="_blank">DOI</a>` : ''}
                  ${pub.url ? `<a href="${pub.url}" target="_blank">Link</a>` : ''}
                  ${pub.pdf ? `<a href="${pub.pdf}" target="_blank">PDF</a>` : ''}
                </div>
              </div>
            `;
          }).join('');

          console.log('[index.html] Generated HTML length:', html.length);
          console.log('[index.html] First 500 chars:', html.substring(0, 500));
          console.log('[index.html] Setting innerHTML...');
          container.innerHTML = html;
          console.log('[index.html] Container now has', container.children.length, 'children');
          console.log('[index.html] First child HTML:', container.children[0]?.outerHTML.substring(0, 200));
          console.log('[index.html] Publications displayed successfully!');
        } else {
          console.warn('[index.html] No publications data available');
          console.warn('[index.html] pubData:', pubData);
          console.warn('[index.html] pubData.selected:', pubData ? pubData.selected : 'pubData is null');
          container.innerHTML = '<p>No recent publications found.</p>';
        }
      } catch (error) {
        console.error('[index.html] ERROR loading home page data:', error);
        console.error('[index.html] Error stack:', error.stack);
        const errorContainer = document.getElementById('publications-container');
        if (errorContainer) {
          errorContainer.innerHTML = '<p class="error-message">Error loading publications. Check console for details.</p>';
        }
      }

      console.log('[index.html] Data loading complete.');
    });
  </script>
</body>
</html>
