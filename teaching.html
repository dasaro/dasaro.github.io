<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
  <meta name="description" content="Teaching and student supervision by Fabio Aurelio D'Asaro - Courses, workshops, and mentorship.">
  <meta name="author" content="Fabio Aurelio D'Asaro">

  <title>Teaching - Fabio Aurelio D'Asaro</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body data-page="teaching">
  <!-- Mathematical Background Canvas -->
  <canvas id="bg-animation-canvas" data-default-animation="riemann"></canvas>
  <button id="animation-toggle" class="animation-toggle" aria-label="Toggle background animation" title="Toggle animation (A)">
    <span class="symbol">∀</span>
  </button>

  <!-- Navigation -->
  <div class="nav-wrapper">
    <nav>
      <a href="index.html" class="nav-brand">
        <span class="logic-symbol">∀</span>
        F.A. D'Asaro
      </a>

      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">Home</a></li>
        <li><a href="about.html" class="nav-link">About</a></li>
        <li><a href="publications.html" class="nav-link">Publications</a></li>
        <li><a href="teaching.html" class="nav-link">Teaching</a></li>
        <li><a href="projects.html" class="nav-link">Projects</a></li>
        <li><a href="service.html" class="nav-link">Service</a></li>
        <li><a href="backgrounds.html" class="nav-link">Backgrounds</a></li>
        <li><a href="contact.html" class="nav-link">Contact</a></li>
      </ul>
    </nav>
  </div>

  <!-- Main Content -->
  <main>
    <section id="teaching">
      <div class="container">
        <h1 class="fade-in">Teaching</h1>

        <!-- Teaching Philosophy -->
        <div class="card fade-in-delay-1">
          <div id="philosophy-container">
            <h2>Teaching Philosophy</h2>
            <p class="loading-message">Loading teaching philosophy...</p>
          </div>
        </div>

        <!-- Teaching Statistics -->
        <div class="mt-xl fade-in-delay-2">
          <div id="stats-container">
            <p class="loading-message">Loading teaching statistics...</p>
          </div>
        </div>

        <!-- Current Courses -->
        <div id="current-courses" class="mt-xl">
          <h2 class="section-title">Current Courses</h2>
          <div id="current-courses-container">
            <p class="loading-message">Loading current courses...</p>
          </div>
        </div>

        <!-- Past Courses -->
        <div id="past-courses" class="mt-xl">
          <h2 class="section-title">Past Courses</h2>
          <div class="collapsible-header" onclick="toggleCollapsible('past-courses-content')">
            <span>View Past Courses (6)</span>
            <span class="arrow">▶</span>
          </div>
          <div id="past-courses-content" class="collapsible-content">
            <div id="past-courses-container">
              <p class="loading-message">Loading past courses...</p>
            </div>
          </div>
        </div>

        <!-- Guest Lectures & Workshops -->
        <div id="guest-lectures" class="mt-xl">
          <h2 class="section-title">Guest Lectures & Workshops</h2>
          <div id="guest-lectures-container">
            <p class="loading-message">Loading guest lectures...</p>
          </div>
        </div>

        <!-- Student Supervision -->
        <div id="supervision" class="mt-xl">
          <h2 class="section-title">Student Supervision</h2>
          <div id="supervision-container">
            <p class="loading-message">Loading supervision data...</p>
          </div>
        </div>

        <!-- For Prospective Students -->
        <div id="prospective-students" class="mt-xl">
          <h2 class="section-title">For Prospective Students</h2>
          <div class="card">
            <h3>Research Opportunities</h3>
            <p>
              I am interested in supervising students working on topics in:
            </p>
            <ul>
              <li>Uncertain and Epistemic Reasoning</li>
              <li>Temporal and Probabilistic Logics</li>
              <li>Logic Programming Applications</li>
              <li>Explainable AI</li>
              <li>Formal Argumentation</li>
            </ul>
            <p class="mt-md">
              <strong>Interested in pursuing a PhD?</strong> Visit the dedicated page for detailed information
              about supervision, application process, and current openings.
            </p>
            <p class="mt-md">
              <a href="dissertation-info.html" class="btn btn-primary">PhD Student Information →</a>
            </p>
            <p class="mt-md">
              For other inquiries, please <a href="contact.html">get in touch</a>
              with your CV and a brief description of your research interests.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-text">
        <p>&copy; <span class="footer-year">2025</span> <span id="footer-name">Loading...</span></p>
        <p>∀x (Logic(x) → Elegant(x))</p>
      </div>
      <ul class="footer-links">
        <li><a href="https://github.com/dasaro" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="https://scholar.google.com" target="_blank" rel="noopener">Google Scholar</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/main.js?v=30"></script>
  <script type="module" src="js/animations/AnimationController.js?v=30"></script>

  <!-- Page-specific script -->
  <script>
    // Collapsible sections toggle
    function toggleCollapsible(contentId) {
      const content = document.getElementById(contentId);
      const arrow = event.currentTarget.querySelector('.arrow');

      content.classList.toggle('active');
      arrow.textContent = content.classList.contains('active') ? '▼' : '▶';
    }

    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // Load teaching data
        const teachingData = await loadJSON('./data/teaching.json');
        console.log('[teaching.html] Teaching data loaded:', teachingData);

        // 1. Teaching Philosophy
        const philosophyContainer = document.getElementById('philosophy-container');
        if (teachingData.teaching_philosophy) {
          const philosophy = typeof teachingData.teaching_philosophy === 'string'
            ? teachingData.teaching_philosophy
            : teachingData.teaching_philosophy.paragraphs?.join('</p><p>') || '';

          const html = `<p>${philosophy}</p>`;
          philosophyContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Teaching Philosophy displayed!');
        }

        // 2. Teaching Statistics
        const statsContainer = document.getElementById('stats-container');
        if (teachingData.teaching_statistics) {
          const stats = teachingData.teaching_statistics;
          const html = `
            <div class="card">
              <h3>Teaching Experience</h3>
              <div class="grid grid-2">
                <div>
                  <strong>Years of Experience:</strong> ${stats.years_experience} years
                </div>
                <div>
                  <strong>Average Hours/Year:</strong> ${stats.average_hours_per_year}
                </div>
              </div>
              <p class="mt-md"><em>${stats.note || ''}</em></p>
            </div>
          `;
          statsContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Teaching Statistics displayed!');
        }

        // 3. Current Courses
        const currentCoursesContainer = document.getElementById('current-courses-container');
        if (teachingData.current_courses && teachingData.current_courses.length > 0) {
          const html = `
            <div class="grid grid-2">
              ${teachingData.current_courses.map(course => `
                <div class="card">
                  <div class="chip-group">
                    <span class="chip chip-year chip-sm">${course.year_start}–${course.year_end}</span>
                    <span class="chip chip-current chip-sm">Current</span>
                    <span class="chip chip-teaching chip-sm">${course.level}</span>
                  </div>
                  <h3>${course.title}</h3>
                  <div class="course-meta mb-md">
                    <strong>${course.institution}</strong><br>
                    ${course.code} | ${course.program}
                  </div>
                  ${course.description ? `<p class="course-description">${course.description}</p>` : ''}
                </div>
              `).join('')}
            </div>
          `;
          currentCoursesContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Current Courses displayed!', teachingData.current_courses.length, 'courses');
        }

        // 4. Guest Lectures
        const guestLecturesContainer = document.getElementById('guest-lectures-container');
        if (teachingData.guest_lectures && teachingData.guest_lectures.length > 0) {
          const html = teachingData.guest_lectures.map(lecture => `
            <div class="card">
              <div class="chip-group">
                <span class="chip chip-year chip-sm">${lecture.date || lecture.year || ''}</span>
                <span class="chip chip-teaching chip-sm">Guest Lecture</span>
              </div>
              <h3>${lecture.title}</h3>
              <p><strong>${lecture.event}</strong></p>
              <p>${lecture.institution || ''}</p>
              ${lecture.hours ? `<p>${lecture.hours} hours</p>` : ''}
              ${lecture.description ? `<p class="mt-md">${lecture.description}</p>` : ''}
            </div>
          `).join('');
          guestLecturesContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Guest Lectures displayed!', teachingData.guest_lectures.length, 'lectures');
        }

        // 5. Past Courses (Teaching Assistant Positions)
        const pastCoursesContainer = document.getElementById('past-courses-container');
        if (teachingData.teaching_assistant_positions && teachingData.teaching_assistant_positions.length > 0) {
          const html = teachingData.teaching_assistant_positions.map(position => `
            <div class="card">
              <div class="chip-group">
                <span class="chip chip-year chip-sm">${position.period}</span>
                <span class="chip chip-past chip-sm">Past</span>
                <span class="chip chip-teaching chip-sm">TA Position</span>
              </div>
              <h3>${position.institution}</h3>
              <p><strong>${position.department || ''}</strong></p>
              ${position.courses && position.courses.length > 0 ? `
                <ul class="mt-md">
                  ${position.courses.map(course => `
                    <li><strong>${course.code || ''}:</strong> ${course.title} ${course.years ? `(${course.years})` : ''}
                    ${course.note ? `<br><em>${course.note}</em>` : ''}</li>
                  `).join('')}
                </ul>
              ` : ''}
            </div>
          `).join('');
          pastCoursesContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Past Courses (TA Positions) displayed!', teachingData.teaching_assistant_positions.length, 'positions');
        }

        // 6. Load supervision data
        const supervisionData = await loadJSON('./data/supervision.json');
        const supervisionContainer = document.getElementById('supervision-container');

        if (supervisionData && supervisionData.students && supervisionData.students.length > 0) {
          const html = supervisionData.students.map(student => {
            // Determine chip based on level
            const levelChip = student.level === 'MSc' ? 'chip-msc' :
                             student.level === 'PhD' ? 'chip-phd' :
                             student.level === 'BSc' ? 'chip-bsc' : 'chip-msc';

            return `
            <div class="course-card">
              <div class="chip-group">
                <span class="chip chip-year chip-sm">${student.year}</span>
                <span class="chip ${levelChip} chip-sm">${student.level}</span>
                <span class="chip chip-supervision chip-sm">Supervision</span>
              </div>
              <h3>${student.name}</h3>
              <p class="course-meta"><strong>Institution:</strong> ${student.institution}</p>
              <p class="course-meta mb-md"><strong>Topic:</strong> ${student.topic}</p>
              ${student.outcomes && student.outcomes.length > 0 ? `
                <p class="mb-sm"><strong>Outcomes:</strong></p>
                <ul class="ml-lg mb-md">
                  ${student.outcomes.map(outcome => `<li class="mb-xs">${outcome}</li>`).join('')}
                </ul>
              ` : ''}
              ${student.publications && student.publications.length > 0 ? `
                <p><strong>Publications:</strong> ${student.publications.join(', ')}</p>
              ` : ''}
            </div>
          `;
          }).join('');
          supervisionContainer.innerHTML = html;
          console.log('[teaching.html] ✅ Supervision data displayed!', supervisionData.students.length, 'students');
        } else {
          supervisionContainer.innerHTML = `
            <div class="card">
              <p class="text-muted">
                I have supervised multiple undergraduate and graduate students on topics in logic,
                AI, and formal reasoning. Student outcomes and publications will be added soon.
              </p>
            </div>
          `;
          console.log('[teaching.html] ℹ️ No supervision data available, showing placeholder');
        }

      } catch (error) {
        console.error('Error loading teaching data:', error);

        // Show error messages in containers
        document.querySelectorAll('.loading-message').forEach(el => {
          el.textContent = 'Error loading data. Please try again later.';
          el.classList.add('text-error');
        });
      }
    });
  </script>
</body>
</html>
